<section class="my-6 p-4 border rounded bg-gray-900 text-gray-300 max-h-[500px] overflow-auto">
  <div class="flex justify-between items-center mb-3">
    <h3 class="text-xl font-semibold">Most Viewed Articles</h3>
    <button
      (click)="isCollapsed = !isCollapsed"
      class="text-sm text-blue-300 hover:underline focus:outline-none"
    >
      {{ isCollapsed ? "Show" : "Hide" }}
    </button>
  </div>

  <div *ngIf="!isCollapsed">
    <ul *ngIf="articles.length; else noData">
      <li *ngFor="let article of articles" class="mb-4">
        <a
          (click)="onArticleClick(article.articleUrl)"
          [href]="article.articleUrl"
          target="_blank"
          rel="noopener noreferrer"
          class="hover:text-blue-400 font-bold inline-block p-1 rounded hover:bg-gray-700"
        >
          {{ article.title || article.articleUrl }}
        </a>
        <p *ngIf="article.description" class="text-sm text-gray-400 mt-1">
          {{ article.description }}
        </p>
      </li>
    </ul>
    <button
      *ngIf="!loadedAll"
      (click)="loadArticles()"
      class="mt-4 px-4 py-2 text-sm bg-blue-600 hover:bg-blue-700 text-white rounded"
    >
      Load More
    </button>
    <ng-template #noData>
      <p>No popular articles found.</p>
    </ng-template>
  </div>
</section>
